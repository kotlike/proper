<!DOCTYPE html> 
<html> 
<head> 
  <title>PROPER&trade; - Semantic Rich Text Editor</title>  
  
  <!-- Styles -->
  <link href="stylesheets/page.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="stylesheets/proper.css" media="screen" rel="stylesheet" type="text/css" />

</head>
<body>
  <h1>PROPER&trade; - Semantic Rich Text Editor (Version 0.3.1)</h1>
  
  <div id="main">
    <div id="tools"></div>
    <div class="content">
      <p>Text wants to be <strong>editable</strong>.<br/>But text also wants to be <strong>meaningful</strong>.
      </p>
    </div>
  
    <div class="content">
      <p>
        On the right, you see the <em>sanitized</em> (and hopefully correct) HTML output.
      </p>
      <p>
        Known issues:
        <ul>
          <li>Does not yet consider <code>markup</code> for pasted content</li>
        </ul>
      </p>
    </div>
    
    <h2 class="no-markup">
      Here we prevent from using markup and newlines
    </h2>
  </div>
  
  <div id="source">

  </div>
  <br class="clear"/>
  <div class="credits">
    Straight from the labs of <a href="http://quasipartikel.at">Quaspartikel</a> 
    and <a href="http://froodee.at/">froodee</a>. 
  </div>
  
  <a href="http://github.com/michael/proper"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://assets2.github.com/img/71eeaab9d563c2b3c590319b398dd35683265e85?repo=&url=http%3A%2F%2Fs3.amazonaws.com%2Fgithub%2Fribbons%2Fforkme_right_gray_6d6d6d.png&path=" alt="Fork me on GitHub"></a>

  <!-- Libraries -->
  <script src="lib/jquery-min.js"></script>
  <script src="lib/jquery.hotkeys.js"></script>

  <!--
       Load the XUI library depending on the browser.

       So we have three version of the library:
       - IE
       - non-IE - Blackberry
       - non-IE - the rest of them

       I find this simple, yet fast and bulletproof
       technique in our case.

       The algo:
       - Use conditional IE comments to divide browsers on IE and non-IE
       - For IE Browsers just load XUI version for IE
       - For non-IE browsers use script that will load the version of the XUI
         depending on the UA string of Navigator object.
  -->
  <!--[if IE]>
  <script src="lib/xui-ie-2.3.2.js"></script>
  <![endif]-->
  <!--[if !IE]><!-->
  <script>
      (function(min){
          var a = document.createElement('script'),
              xui_pref = '-',
              version = '2.3.2',
              minified = min ? '.min' : '',
              test = function(patt, prop){ return patt.test(window.navigator[prop]); };

          if(test(/Blackberry/i, 'userAgent')) xui_pref += 'bb-';
          // We need this for IE >= 10, which no longer supports conditional comments
          else if(test(/MSIE/i , 'userAgent')) xui_pref += 'ie-';

          a.type = 'text/javascript';
          a.async = true;
          a.src = 'lib/xui' + xui_pref + version + minified + '.js';

          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(a, s);
      })(false);
  </script>
  <!--<![endif]-->

  <!-- Source -->
  <script src="proper.js"></script>

  <script>
      // Proper Init
      $(function() {
          window.editor = new Proper();

          $('.content').click(function() {
              editor.activate($(this), {
                  placeholder: 'Enter Text',
                  controlsTarget: $('#tools'),
                  codeFontFamily: 'Monaco, Consolas, "Lucida Console", monospace'
              });

              // Update node when editor commands are applied
              editor.bind('changed', function() {
                  $('#source').text(editor.content());
              });
          });

          $('h2.no-markup').click(function() {
              editor.activate($(this), { markup: false, multiline: false });

              // Update node when editor commands are applied
              editor.bind('changed', function() {
                  $('#source').text(editor.content());
              });
          });
      });
  </script>

</body> 
</html>
